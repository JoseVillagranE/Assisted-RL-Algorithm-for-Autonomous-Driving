run_type: 'TD3CoL'
run_id: 'CL'
seed: 1

simulation:
    fps: 10
    
cl_train:    
    q_of_tasks: 2
    exo_sample: "manual"
    value_function_L: 10
    alpha: 0.2
    episodes: 10
    general_tr_episodes: 200
    exo_agents:
        vehicle:
            exo_driving: [[], [False]] #[[], [False], [False, False], [False, False, False]]
            initial_pos: 
                x: [[], [149]] #[[], [149], [149, 170], [149, 170, 190]] # 1st is empty road
                y: [[], [63]] #[[], [63], [63, 58], [63, 58, 63]]
                yaw: [[], [180]] #[[], [180], [180, 180], [180, 180, 180]]
            end_pos:
                x: [[], [149]] # [[], [], [], []]
                y: [[], [63]] #[[], [], [], []]
                yaw: [[], [180]] #[[], [], [], []]
        peds:
            initial_pos:
                x: [[], [], [], []] # 1st is empty road
                y: [[], [], [], []]
                yaw: [[], [], [], []]
            end_pos:
                x: [[], [], [], []]
                y: [[], [], [], []]
                yaw: [[], [], [], []]


train:
    policy_freq: 2
    checkpoint_every: 100000
    episodes: 1000
    device: "cuda:0"
    actor_agent_lr: 0.0001
    critic_agent_lr: 0.001
    actor_expert_lr: 0.001
    critic_expert_lr: 0.001
    optimizer: "Adam"
    type_RM: "random"
    batch_size: 64
    temporal_mech: False
    rnn_nsteps: 1
    hidden_cat: False
    start_to_update: 5
    optimization_steps: 1
    lambdas: [0.1, 0.9, 1]
    expert_prop: 0.25
    agent_prop: 0.75
    ou_noise_mu: 0.0
    ou_noise_theta: 0.0
    ou_noise_max_sigma: 0.0
    ou_noise_min_sigma: 0.005
    ou_noise_decay_period: 500 # episode
    pretraining_steps: 10000
    tau: 0.0001
    gamma: 0.99
    wp_encode: False
    wp_encoder_size: 64
    rm_filename: "" # folder's name for load many experiences tuples
    scheduler_step_size: 350
    max_memory_size: 20000
    scheduler_min_lr : 0.0000001 # 10-7
    scheduler_gamma: 0.01
    load_rm_choice: "random"
    load_rm_name_c: ["3", "g"]
    load_rm_num_rolls: 80
    load_rm_idxs: [0,1] # compl states [steer, thr, speed, ..]
    enable_scheduler_lr: True
    alpha: 1
    beta: 1
    actor_grad_clip: 0.05
    critic_grad_clip: 0.5
    linear_layers: [512, 128]
    critic_linear_layers: [512, 128]
    encoded_state_standardization: False
    is_freeze_params: True
    trauma_memory:
        enable: True
        prop: 0.2
        

agent:
    sensor:
      dashboard_camera: True
      spectator_camera: False
      camera_type: "sensor.camera.semantic_segmentation"
      color_converter: "CityScapesPallete"


exo_agents:
    pedestrian:
      spawn: False
    
    vehicle:
      n: 3
      spawn: True
      initial_position:
        x: [149, 170, 190]
        y: [63, 58, 63]
        z: [1, 1, 1]
        yaw: [180, 180, 180]
      end_position:
        x: [100, 100, 100]
        y: [58, 58, 63]
        z: [1, 1, 1]
        yaw: [180, 180, 180]
      exo_driving: [True, False, False]

model:
    type: "VAE"
    id: '0'

reward_fn:
    normalize: False
    weight_collision_pedestrian: 1000
    weight_collision_vehicle: 1000
    weight_collision_other: 1000
    weight_final_goal: 500
    weight_speed_limit: 1
    weight_route_al: 1
    weight_centralization: 1
    weight_distance_to_goal: 5
    enable_smooth: True
    enable_exo_veh_distance_reward: False
  
test:
    every: 5
    steps: 300

simulation:
    action_smoothing: 0

vis:
    render: False